var _0x5149=['score','319009JYuQev','findIndex','play','4GMDphV','forEach','1728738LJBgNd','time','push','dispatchEvent','5OUgpOZ','floor','length','762251YClSCD','1CCTAff','body','strokeRect','lineWidth','169717dQujBY','1zZVtSr','clearRect','4DEEFcq','strokeStyle','rgba(255,\x20255,\x20255,\x20','371618CxdXhi','1363736iaYTEE','health','splice','filter','163582oYXQQq','pos'];function _0x3af6(_0x36394e,_0x4b18d3){_0x36394e=_0x36394e-0x1a5;var _0x51499e=_0x5149[_0x36394e];return _0x51499e;}(function(_0x1a3b59,_0xf9ab33){var _0x278a79=_0x3af6;while(!![]){try{var _0x50c81e=-parseInt(_0x278a79(0x1c0))+-parseInt(_0x278a79(0x1ae))*-parseInt(_0x278a79(0x1b3))+parseInt(_0x278a79(0x1a8))*-parseInt(_0x278a79(0x1a9))+-parseInt(_0x278a79(0x1b8))+-parseInt(_0x278a79(0x1bb))*parseInt(_0x278a79(0x1a5))+parseInt(_0x278a79(0x1be))*-parseInt(_0x278a79(0x1ad))+parseInt(_0x278a79(0x1b4))*parseInt(_0x278a79(0x1b0));if(_0x50c81e===_0xf9ab33)break;else _0x1a3b59['push'](_0x1a3b59['shift']());}catch(_0x23ddd6){_0x1a3b59['push'](_0x1a3b59['shift']());}}}(_0x5149,0xdb41e));var poses=[],maxposesize=0x6,maxposesonscreen=0x1,poselife=0x258,spawntimer=0x12c,_t=spawntimer;function PoseStep(){var _0x4f47d9=_0x3af6;poses[_0x4f47d9(0x1a7)]<maxposesonscreen?(_t--,_t<=0x0&&(poses[_0x4f47d9(0x1c2)](generatepose()),pelletSound[_0x4f47d9(0x1bd)](),_t=spawntimer)):_t=spawntimer;for(var _0x19eacf in poses){poses[_0x19eacf]['time']--;if(poses[_0x19eacf][_0x4f47d9(0x1c1)]<=0x0)poses[_0x19eacf][_0x4f47d9(0x1a7)]<=snake[_0x4f47d9(0x1a7)]&&(snake[_0x4f47d9(0x1b5)]>0x0&&(hurtSound[_0x4f47d9(0x1bd)](),snake['health']=Math[_0x4f47d9(0x1a6)](snake[_0x4f47d9(0x1b5)]-0x1))),poses['splice'](_0x19eacf,0x1),window['dispatchEvent'](healthupdate);else{let _0x84f7e3=!![];for(var _0x2f8e2d of poses[_0x19eacf][_0x4f47d9(0x1b9)]){if(_0x2f8e2d['x']!==undefined)snake[_0x4f47d9(0x1aa)][_0x4f47d9(0x1bc)](_0x46d46e=>_0x46d46e['x']==_0x2f8e2d['x']&&_0x46d46e['y']==_0x2f8e2d['y'])==-0x1&&(_0x84f7e3=![]);}_0x84f7e3&&(snake[_0x4f47d9(0x1ba)]+=poses[_0x19eacf][_0x4f47d9(0x1c1)]+poses[_0x19eacf]['length']*0x32,window[_0x4f47d9(0x1c3)](scoreupdate),poses[_0x4f47d9(0x1b6)](_0x19eacf,0x1),poseSound['play'](),_0x84f7e3=![]);}}}function PoseDraw(){var _0x51a8e4=_0x3af6;ctx[_0x51a8e4(0x1ac)]=2.5;for(var _0xc12b06 of poses){alpha=_0xc12b06[_0x51a8e4(0x1c1)]/poselife;for(var _0x2803a6 of _0xc12b06[_0x51a8e4(0x1b9)]){ctx[_0x51a8e4(0x1b1)]=_0x51a8e4(0x1b2)+alpha+')',ctx[_0x51a8e4(0x1ab)](_0x2803a6['x']*tilesize,_0x2803a6['y']*tilesize,tilesize,tilesize);}for(var _0x2803a6 of _0xc12b06[_0x51a8e4(0x1b9)]){ctx[_0x51a8e4(0x1af)](_0x2803a6['x']*tilesize,_0x2803a6['y']*tilesize,tilesize,tilesize);}}}function generatepose(){var _0x32022e=_0x3af6;let _0x210d6d={'pos':[],'length':snake[_0x32022e(0x1a7)],'time':poselife},_0x51f604,_0x3d6206=![];while(!_0x3d6206){_0x51f604={'x':randomrange(0x0,gridsize-0x1,!![]),'y':randomrange(0x0,gridsize-0x1,!![])};let _0x49aa49=![];if(snake[_0x32022e(0x1aa)]['findIndex'](_0x2ce6e9=>_0x2ce6e9['x']==_0x51f604['x']&&_0x2ce6e9['y']==_0x51f604['y'])!=-0x1)_0x49aa49=!![];poses[_0x32022e(0x1bf)](_0x2e50fb=>{var _0xb4733c=_0x32022e;if(_0x2e50fb[_0xb4733c(0x1b9)][_0xb4733c(0x1bc)](_0x1da326=>_0x1da326['x']==_0x51f604['x']&&_0x1da326['y']==_0x51f604['y'])!=-0x1)_0x49aa49=!![];}),!_0x49aa49&&(_0x3d6206=!![]);}_0x210d6d['pos'][_0x32022e(0x1c2)](_0x51f604);for(var _0x3a23a3=0x0;_0x3a23a3<_0x210d6d[_0x32022e(0x1a7)]-0x1;_0x3a23a3++){let _0x37c7b4=_0x210d6d[_0x32022e(0x1b9)][_0x210d6d[_0x32022e(0x1b9)]['length']-0x1],_0x586e96=findemptytile(_0x37c7b4['x'],_0x37c7b4['y'],_0x210d6d);if(_0x586e96==-0x1)break;let _0x536d38=randomrange(0x0,_0x586e96[_0x32022e(0x1a7)]-0x1,!![]);_0x210d6d[_0x32022e(0x1b9)]['push'](_0x586e96[_0x536d38]);}return _0x210d6d;}function findemptytile(_0x3b7e9e,_0x5073b6,_0x369371){var _0x1eb4d4=_0x3af6;if(_0x3b7e9e<0x0||_0x5073b6<0x0||(_0x3b7e9e>gridsize-0x1||_0x5073b6>gridsize-0x1))return-0x1;let _0x24656e,_0x2a7c90,_0x5f3831,_0x196b84;_0x24656e={'x':_0x3b7e9e,'y':_0x5073b6-0x1},_0x5f3831={'x':_0x3b7e9e,'y':_0x5073b6+0x1},_0x196b84={'x':_0x3b7e9e+0x1,'y':_0x5073b6},_0x2a7c90={'x':_0x3b7e9e-0x1,'y':_0x5073b6};if(snake['body'][_0x1eb4d4(0x1bc)](_0x9a738c=>_0x9a738c['x']==_0x24656e['x']&&_0x9a738c['y']==_0x24656e['y'])!=-0x1)_0x24656e=-0x1;if(snake['body'][_0x1eb4d4(0x1bc)](_0x34777f=>_0x34777f['x']==_0x5f3831['x']&&_0x34777f['y']==_0x5f3831['y'])!=-0x1)_0x5f3831=-0x1;if(snake[_0x1eb4d4(0x1aa)]['findIndex'](_0x39056b=>_0x39056b['x']==_0x196b84['x']&&_0x39056b['y']==_0x196b84['y'])!=-0x1)_0x196b84=-0x1;if(snake[_0x1eb4d4(0x1aa)][_0x1eb4d4(0x1bc)](_0x36f76a=>_0x36f76a['x']==_0x2a7c90['x']&&_0x36f76a['y']==_0x2a7c90['y'])!=-0x1)_0x2a7c90=-0x1;for(var _0x2876fd of poses){if(_0x2876fd[_0x1eb4d4(0x1b9)][_0x1eb4d4(0x1bc)](_0x5f27cf=>_0x5f27cf['x']==_0x24656e['x']&&_0x5f27cf['y']==_0x24656e['y'])!=-0x1)_0x24656e=-0x1;if(_0x2876fd[_0x1eb4d4(0x1b9)][_0x1eb4d4(0x1bc)](_0x5190f5=>_0x5190f5['x']==_0x5f3831['x']&&_0x5190f5['y']==_0x5f3831['y'])!=-0x1)_0x5f3831=-0x1;if(_0x2876fd['pos']['findIndex'](_0x123047=>_0x123047['x']==_0x196b84['x']&&_0x123047['y']==_0x196b84['y'])!=-0x1)_0x196b84=-0x1;if(_0x2876fd[_0x1eb4d4(0x1b9)]['findIndex'](_0x196635=>_0x196635['x']==_0x2a7c90['x']&&_0x196635['y']==_0x2a7c90['y'])!=-0x1)_0x2a7c90=-0x1;}if(_0x24656e['x']<0x0||_0x24656e['y']<0x0||_0x24656e['x']>gridsize-0x1||_0x24656e['y']>gridsize-0x1)_0x24656e=-0x1;if(_0x5f3831['x']<0x0||_0x5f3831['y']<0x0||_0x5f3831['x']>gridsize-0x1||_0x5f3831['y']>gridsize-0x1)_0x5f3831=-0x1;if(_0x196b84['x']<0x0||_0x196b84['y']<0x0||_0x196b84['x']>gridsize-0x1||_0x196b84['y']>gridsize-0x1)_0x196b84=-0x1;if(_0x2a7c90['x']<0x0||_0x2a7c90['y']<0x0||_0x2a7c90['x']>gridsize-0x1||_0x2a7c90['y']>gridsize-0x1)_0x2a7c90=-0x1;if(_0x369371!=undefined){if(_0x369371[_0x1eb4d4(0x1b9)][_0x1eb4d4(0x1bc)](_0x1bb08f=>_0x1bb08f['x']==_0x24656e['x']&&_0x1bb08f['y']==_0x24656e['y'])!=-0x1)_0x24656e=-0x1;if(_0x369371[_0x1eb4d4(0x1b9)]['findIndex'](_0x4834cb=>_0x4834cb['x']==_0x5f3831['x']&&_0x4834cb['y']==_0x5f3831['y'])!=-0x1)_0x5f3831=-0x1;if(_0x369371[_0x1eb4d4(0x1b9)][_0x1eb4d4(0x1bc)](_0x15f7bf=>_0x15f7bf['x']==_0x196b84['x']&&_0x15f7bf['y']==_0x196b84['y'])!=-0x1)_0x196b84=-0x1;if(_0x369371[_0x1eb4d4(0x1b9)]['findIndex'](_0x4e8950=>_0x4e8950['x']==_0x2a7c90['x']&&_0x4e8950['y']==_0x2a7c90['y'])!=-0x1)_0x2a7c90=-0x1;}let _0x39fd74=[_0x24656e,_0x5f3831,_0x196b84,_0x2a7c90];_0x39fd74=_0x39fd74[_0x1eb4d4(0x1b7)](_0x26fbfc=>_0x26fbfc!=-0x1);if(_0x39fd74[_0x1eb4d4(0x1a7)]==0x0)return-0x1;else return _0x39fd74;}